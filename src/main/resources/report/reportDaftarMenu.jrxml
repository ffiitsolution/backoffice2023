<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="menu-report-finale" pageWidth="595" pageHeight="842" columnWidth="555" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="4dfc93c0-b36d-45ed-910f-5f07f31b055d">
	<property name="ireport.zoom" value="1.7715610000000077"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<parameter name="status" class="java.lang.String">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="orderType" class="java.lang.String">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="user" class="java.lang.String">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="address1" class="java.lang.String">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="address2" class="java.lang.String">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="outletName" class="java.lang.String">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="outletBrand" class="java.lang.String">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<queryString>
		<![CDATA[SELECT
	mmg.MENU_GROUP_CODE,
	mg.DESCRIPTION AS MENU_GROUP_NAME,
	mmi.MENU_ITEM_CODE,
	mg2.DESCRIPTION AS MENU_ITEM_NAME,
	mp.PRICE AS MENU_ITEM_PRICE,
	mms.MENU_SET_ITEM_CODE,
	mms.QTY AS MENU_SET_QTY,
	mg3.DESCRIPTION AS MENU_SET_ITEM_NAME,
	mmi2.MODIFIER_ITEM_CODE,
	mg4.DESCRIPTION AS MODIFIER_ITEM_NAME,
	mmp.PRICE AS MODIFIER_ITEM_PRICE
	FROM
	 M_MENU_GROUP mmg
	JOIN M_GLOBAL mg ON mmg.MENU_GROUP_CODE = mg.CODE
	JOIN M_MENU_ITEM mmi ON mmg.MENU_GROUP_CODE = mmi.MENU_GROUP_CODE AND mmi.STATUS = $P{status}
	JOIN M_MENU_GROUP_LIMIT mmgl ON mmgl.MENU_GROUP_CODE = mmg.MENU_GROUP_CODE AND mmgl.ORDER_TYPE = $P{orderType}
	JOIN M_MENU_ITEM_LIMIT mmil ON mmil.MENU_ITEM_CODE = mmi.MENU_ITEM_CODE AND mmil.ORDER_TYPE = $P{orderType}
	JOIN M_OUTLET_PRICE mop ON mop.OUTLET_CODE = mmg.OUTLET_CODE AND mop.ORDER_TYPE = $P{orderType}
	JOIN M_PRICE mp ON mmi.MENU_ITEM_CODE = mp.MENU_ITEM_CODE AND mop.PRICE_TYPE_CODE  = mp.PRICE_TYPE_CODE
	JOIN M_GLOBAL mg2 ON mmi.MENU_ITEM_CODE = mg2.CODE AND mg2.COND = 'ITEM'
	LEFT JOIN M_MENU_SET mms ON mms.MENU_SET_CODE = mmi.MENU_ITEM_CODE AND mms.STATUS = $P{status}
	LEFT JOIN M_GLOBAL mg3 ON mms.MENU_SET_ITEM_CODE = mg3.CODE AND mg3.COND = 'ITEM'
	LEFT JOIN M_MODIFIER_ITEM mmi2 ON mmi.MODIFIER_GROUP1_CODE = mmi2.MODIFIER_GROUP_CODE  AND mmi2.STATUS = $P{status}
	LEFT JOIN M_GLOBAL mg4 ON mmi2.MODIFIER_ITEM_CODE = mg4.CODE AND mg4.COND = 'ITEM'
	LEFT JOIN M_MODIFIER_PRICE mmp ON mmi2.MODIFIER_GROUP_CODE = mmp.MODIFIER_GROUP_CODE AND mmi2.MODIFIER_ITEM_CODE = mmp.MODIFIER_ITEM_CODE AND mmp.PRICE_TYPE_CODE = '5'
		LEFT JOIN M_GLOBAL mg4 ON mmi2.MODIFIER_ITEM_CODE = mg4.CODE AND mg4.COND = 'ITEM'
	ORDER BY
    	mmg.MENU_GROUP_CODE ASC,
	    CASE
	        WHEN REGEXP_LIKE(mmi.MENU_ITEM_CODE, '^\d+(\.\d+)?$') -- Check if it's a numeric value
	        THEN TO_NUMBER(mmi.MENU_ITEM_CODE)
	        ELSE 0 -- Replace non-numeric values with 0
	  	END ASC,
	   	mms.MENU_SET_ITEM_CODE ASC]]>
	</queryString>
	<field name="MENU_GROUP_CODE" class="java.lang.String"/>
	<field name="MENU_GROUP_NAME" class="java.lang.String"/>
	<field name="MENU_ITEM_CODE" class="java.lang.String"/>
	<field name="MENU_ITEM_NAME" class="java.lang.String"/>
	<field name="MENU_ITEM_PRICE" class="java.math.BigDecimal"/>
	<field name="MENU_SET_ITEM_CODE" class="java.lang.String"/>
	<field name="MENU_SET_QTY" class="java.math.BigDecimal"/>
	<field name="MENU_SET_ITEM_NAME" class="java.lang.String"/>
	<field name="MODIFIER_ITEM_CODE" class="java.lang.String"/>
	<field name="MODIFIER_ITEM_NAME" class="java.lang.String"/>
	<field name="MODIFIER_ITEM_PRICE" class="java.math.BigDecimal"/>
	<group name="MENU_GROUP_CODE">
		<groupExpression><![CDATA[$F{MENU_GROUP_CODE}]]></groupExpression>
		<groupHeader>
			<band height="16">
				<textField>
					<reportElement x="11" y="2" width="52" height="12" uuid="5d94c6a2-750f-400d-b3b9-bd68507244c2"/>
					<textElement verticalAlignment="Middle">
						<font size="8" isBold="true"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{MENU_GROUP_CODE}]]></textFieldExpression>
				</textField>
				<textField>
					<reportElement x="81" y="2" width="127" height="12" uuid="f4d0c07f-cbfa-44a2-97b7-433a56e1a299"/>
					<textElement verticalAlignment="Middle">
						<font size="8" isBold="true"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{MENU_GROUP_NAME}]]></textFieldExpression>
				</textField>
				<line>
					<reportElement x="66" y="8" width="12" height="1" uuid="4fd5d71c-1fec-481a-bd94-a5bb3cf52e1c"/>
				</line>
			</band>
		</groupHeader>
	</group>
	<group name="MENU_ITEM_CODE">
		<groupExpression><![CDATA[$F{MENU_ITEM_CODE}]]></groupExpression>
		<groupHeader>
			<band height="13">
				<textField>
					<reportElement x="81" y="1" width="57" height="12" uuid="f06c1182-7a66-4b92-a942-e8be7f651341"/>
					<textElement verticalAlignment="Middle">
						<font size="8" isBold="true"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{MENU_ITEM_CODE}]]></textFieldExpression>
				</textField>
				<line>
					<reportElement x="141" y="7" width="12" height="1" uuid="a43c7e2b-003f-40ef-8672-29e94c9b45bf"/>
				</line>
				<textField>
					<reportElement x="156" y="1" width="275" height="12" uuid="6c018aeb-8fa9-47d7-89aa-9faa4b2abc92"/>
					<textElement>
						<font size="8" isBold="true"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{MENU_ITEM_NAME}]]></textFieldExpression>
				</textField>
				<textField>
					<reportElement x="452" y="1" width="102" height="12" uuid="79baa34a-5eed-4f50-8476-2a5926c7dd17"/>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font size="8"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{MENU_ITEM_PRICE}]]></textFieldExpression>
				</textField>
			</band>
		</groupHeader>
	</group>
	<group name="MENU_SET_ITEM">
		<groupExpression><![CDATA[$F{MENU_SET_ITEM_CODE}]]></groupExpression>
		<groupHeader>
			<band height="14">
				<printWhenExpression><![CDATA[$F{MENU_SET_ITEM_CODE} != null]]></printWhenExpression>
				<textField>
					<reportElement x="167" y="1" width="41" height="12" uuid="b1057c88-2923-4de3-b843-c0b3cd7cd52b"/>
					<textElement verticalAlignment="Middle">
						<font size="8"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{MENU_SET_ITEM_CODE}]]></textFieldExpression>
				</textField>
				<line>
					<reportElement x="211" y="6" width="12" height="1" uuid="032d30d6-6d40-4176-b05e-631ba6705ae8"/>
				</line>
				<textField>
					<reportElement x="226" y="1" width="169" height="12" uuid="9b1f2bfc-cb8a-4c70-8e20-3d312e68b6f7"/>
					<textElement>
						<font size="8"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{MENU_SET_ITEM_NAME}]]></textFieldExpression>
				</textField>
				<textField>
					<reportElement x="397" y="1" width="55" height="12" uuid="bba85d17-bcf1-41ac-9f93-bb06268b9074"/>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font size="8"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{MENU_SET_QTY}]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement x="156" y="1" width="11" height="12" uuid="98bc7c1d-b1e5-4b83-a860-ef9df30d7000"/>
					<textElement verticalAlignment="Middle">
						<font size="8"/>
					</textElement>
					<text><![CDATA[#]]></text>
				</staticText>
			</band>
		</groupHeader>
	</group>
	<group name="MODIFIER_GROUP_ITEM">
		<groupExpression><![CDATA[$F{MODIFIER_ITEM_CODE}]]></groupExpression>
		<groupHeader>
			<band height="14">
				<printWhenExpression><![CDATA[$F{MODIFIER_ITEM_CODE} != null]]></printWhenExpression>
				<staticText>
					<reportElement x="226" y="1" width="11" height="12" uuid="a5836173-eb96-4ccd-a554-57465fad0422"/>
					<textElement verticalAlignment="Middle">
						<font size="8"/>
					</textElement>
					<text><![CDATA[#]]></text>
				</staticText>
				<textField>
					<reportElement x="239" y="1" width="42" height="12" uuid="7c6e64b6-d130-4948-ad0a-ec5b58a3cb2c"/>
					<textElement>
						<font size="8"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{MODIFIER_ITEM_CODE}]]></textFieldExpression>
				</textField>
				<textField>
					<reportElement x="283" y="1" width="158" height="12" uuid="a0df3396-498b-413d-b7d1-9fb91fbe7886"/>
					<textElement verticalAlignment="Middle">
						<font size="8"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{MODIFIER_ITEM_NAME}]]></textFieldExpression>
				</textField>
				<textField>
					<reportElement x="441" y="1" width="113" height="12" uuid="8b42cc04-0477-4a60-8b7f-5d80e4832633"/>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font size="8"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{MODIFIER_ITEM_PRICE}]]></textFieldExpression>
				</textField>
			</band>
		</groupHeader>
	</group>
	<background>
		<band splitType="Stretch"/>
	</background>
	<pageHeader>
		<band height="107" splitType="Stretch">
			<image scaleImage="FillFrame">
				<reportElement x="10" y="1" width="48" height="48" isPrintWhenDetailOverflows="true" uuid="b4b752b4-a368-425d-908b-6cb1ee097235"/>
				<imageExpression><![CDATA[$P{outletBrand} != null && !$P{outletBrand}.isEmpty() ? "logo/logo" + $P{outletBrand}.toLowerCase().substring(0, 1).toUpperCase() + $P{outletBrand}.toLowerCase().substring(1) + ".png" : "logo/logoKfc.png"]]></imageExpression>
			</image>
			<staticText>
				<reportElement x="76" y="-1" width="200" height="11" uuid="ce732ff8-61b6-4344-9271-d37ad48c2487"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<text><![CDATA[PT. Fastfood Indonesia, Tbk]]></text>
			</staticText>
			<textField>
				<reportElement x="76" y="10" width="122" height="11" uuid="33a3beb9-d9f4-45ab-9acf-0fe54008fdcd"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{outletName}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="76" y="20" width="200" height="12" uuid="871bde34-d6d2-4c48-8025-92ce7eb32565"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{address1}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="76" y="30" width="122" height="12" uuid="53e24089-b8b0-4203-884d-40711bf4b944"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{address2}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="433" y="0" width="114" height="12" isPrintWhenDetailOverflows="true" uuid="7413e6fb-6c32-414b-91bb-c1c62e1a5ad4"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA["Halaman : " + $V{PAGE_NUMBER}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="433" y="11" width="114" height="12" isPrintWhenDetailOverflows="true" uuid="85aa221b-2e01-4563-a4fb-28ef214f19cd"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA["User Cetak : " + $P{user}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="433" y="22" width="114" height="12" isPrintWhenDetailOverflows="true" uuid="d8cb15ba-2600-41e2-8890-07ba9b6d1da5"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA["Tanggal Cetak : " + new SimpleDateFormat("dd/MM/yyyy").format(new Date())]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="433" y="33" width="114" height="12" isPrintWhenDetailOverflows="true" uuid="9a6f7a03-e74c-46b7-9c2c-52582b01d25c"/>
				<textElement>
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA["Jam Cetak : " + new SimpleDateFormat("HH:mm:ss").format(new Date())]]></textFieldExpression>
			</textField>
			<line>
				<reportElement x="1" y="88" width="555" height="1" uuid="f3cc73a6-7ccc-476f-92fd-70b836f4ab32"/>
			</line>
			<staticText>
				<reportElement x="12" y="91" width="100" height="12" uuid="8f895401-1625-4b13-b814-e0ce7926b5b6"/>
				<textElement verticalAlignment="Middle">
					<font size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[Menu Item]]></text>
			</staticText>
			<staticText>
				<reportElement x="153" y="91" width="100" height="12" uuid="aad19993-2092-43a0-9f8b-32331ae96ea2"/>
				<textElement verticalAlignment="Middle">
					<font size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[Menu Set]]></text>
			</staticText>
			<staticText>
				<reportElement x="452" y="91" width="100" height="12" uuid="3dd00d4d-0493-4912-b21b-e5b0e5e4b578"/>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[Price]]></text>
			</staticText>
			<staticText>
				<reportElement x="0" y="45" width="554" height="17" uuid="b3a45ed7-7516-4c75-ac8e-b70bb74f3f29"/>
				<textElement textAlignment="Center" verticalAlignment="Top">
					<font size="12" isBold="true"/>
				</textElement>
				<text><![CDATA[DAFTAR MENU]]></text>
			</staticText>
			<staticText>
				<reportElement x="0" y="61" width="50" height="12" uuid="13c7d733-732f-4e6f-bcfa-8e7f82b6e0d3"/>
				<textElement verticalAlignment="Middle">
					<font size="8"/>
				</textElement>
				<text><![CDATA[Order Type ]]></text>
			</staticText>
			<textField>
				<reportElement x="47" y="61" width="100" height="12" uuid="2718b0f5-93ff-41c8-b145-d91edd1ba2bf"/>
				<textElement verticalAlignment="Middle">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{orderType}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="0" y="73" width="50" height="12" uuid="13c7d733-732f-4e6f-bcfa-8e7f82b6e0d3"/>
				<textElement verticalAlignment="Middle">
					<font size="8"/>
				</textElement>
				<text><![CDATA[Status]]></text>
			</staticText>
			<textField>
				<reportElement x="48" y="73" width="99" height="12" uuid="8850c52c-d04b-49d8-89a2-3416ff13aa3c"/>
				<textElement verticalAlignment="Middle">
					<font size="8"/>
				</textElement>
				<textFieldExpression><![CDATA["A".equals($P{status}) ? "Active" : "Inactive"]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="40" y="61" width="8" height="12" uuid="bfba8c61-b48a-4db8-80f4-a4c504d2b740"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="8"/>
				</textElement>
				<text><![CDATA[:]]></text>
			</staticText>
			<staticText>
				<reportElement x="40" y="73" width="8" height="12" uuid="3df86003-6a4f-4030-8cc5-2cf519e82651"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="8"/>
				</textElement>
				<text><![CDATA[:]]></text>
			</staticText>
			<staticText>
				<reportElement x="397" y="91" width="55" height="12" uuid="f91494d5-3770-43d9-98f9-3fa9d251661c"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="8" isBold="true"/>
				</textElement>
				<text><![CDATA[Qty]]></text>
			</staticText>
		</band>
	</pageHeader>
	<columnHeader>
		<band height="10" splitType="Stretch">
			<line>
				<reportElement x="1" y="-2" width="555" height="1" uuid="248ca268-5d51-4bd3-b6c5-90f30d733023"/>
			</line>
		</band>
	</columnHeader>
	<columnFooter>
		<band height="5" splitType="Stretch"/>
	</columnFooter>
	<pageFooter>
		<band height="6" splitType="Stretch"/>
	</pageFooter>
	<summary>
		<band height="7" splitType="Stretch"/>
	</summary>
</jasperReport>
