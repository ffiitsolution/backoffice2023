<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="reportDaftarMenu" pageWidth="595" pageHeight="842" columnWidth="555" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="2f9ba0bb-b878-42b5-bf5c-af89e4fc2ee3">
    <property name="ireport.zoom" value="1.6105100000000099"/>
    <property name="ireport.x" value="0"/>
    <parameter name="outletCode" class="java.lang.String">
        <defaultValueExpression><![CDATA[]]></defaultValueExpression>
    </parameter>
     <parameter name="orderType" class="java.lang.String">
        <defaultValueExpression><![CDATA[]]></defaultValueExpression>
    </parameter>
    <parameter name="status" class="java.lang.String">
        <defaultValueExpression><![CDATA[]]></defaultValueExpression>
    </parameter>
    <parameter name="user" class="java.lang.String"/>
    <queryString>
        <![CDATA[SELECT b.description AS MENU_GROUP_DESCRIPTION,a.* from
        (select mmi.menu_group_code,mmi.menu_item_code, mg.description, mp.price, 
        mmi.modifier_group1_Code, mmi.modifier_group2_code, mmi.modifier_group3_code, 
        mmi.modifier_group4_code, mmi.modifier_group5_code, mmi.modifier_group6_code, 
        mmi.modifier_group7_code, mmi.call_group_code, mo.OUTLET_NAME, mo."TYPE", mo.ADDRESS_1, mo.ADDRESS_2 
        from m_menu_item mmi 
        join m_global mg on mmi.menu_item_code = mg.code 
        join m_outlet_price mop on mmi.outlet_code = mop.outlet_code
        join m_price mp on mmi.menu_item_code = mp.menu_item_code and 
        mop.price_type_code = mp.price_type_code 
        join m_outlet mo ON mmi.outlet_code = mo.outlet_code 
        left join m_menu_item_limit mmil on 
        mmi.region_code = mmil.region_code and mmi.outlet_code = mmil.outlet_code and 
        mmi.menu_item_code = mmil.menu_item_code where mmi.outlet_code =$P{outletCode} and 
        mmi.menu_group_code in (select menu_group_code 
        from m_menu_group_limit 
        where order_type =$P{orderType}) and mmi.status =$P{status} and 
        mg.cond = 'ITEM' and mop.order_type =$P{orderType} and (mmil.order_type   is null or 
        mmil.order_type = $P{orderType}) order by mmi.menu_group_code,mmi.seq)a 
        LEFT JOIN M_GLOBAL b ON a.menu_group_code=b.code]]>
    </queryString>
    <!-- <field name="MENU_GROUP_DESCRIPTION " class="java.lang.String"/> -->
    <field name="OUTLET_NAME" class="java.lang.String"/>
    <field name="ADDRESS_1" class="java.lang.String"/>
    <field name="ADDRESS_2" class="java.lang.String"/>
    <field name="MENU_ITEM_CODE" class="java.lang.String"/>
    <!-- <field name="PHONE" class="java.lang.String"/> -->
    <background>
        <band splitType="Stretch"/>
    </background>
    <pageHeader>
        <!-- Header -->
        <band height="130" splitType="Stretch">

            <!-- Start Left Header -->
            <staticText>
                <reportElement x="82" y="1" width="177" height="17" uuid="bec0dc85-2f6d-454b-9608-5510717047fd"/>
                <textElement>
                    <font size="8" isBold="true"/>
                </textElement>
                <text><![CDATA[PT. Fastfood Indonesia, Tbk]]></text>
            </staticText>
            <textField>
                <reportElement x="82" y="14" width="94" height="15" uuid="140ac3ab-6fdd-446d-9b03-240d2b9845e1"/>
                <textElement>
                    <font size="8"/>
                </textElement>
                <textFieldExpression><![CDATA[$F{OUTLET_NAME}]]></textFieldExpression>
            </textField>
            <textField>
                <reportElement x="82" y="27" width="300" height="15" uuid="6401cb8d-3bf9-4c06-ac34-32e1c42a26a4"/>
                <textElement>
                    <font size="8"/>
                </textElement>
                <textFieldExpression><![CDATA[$F{ADDRESS_1}]]></textFieldExpression>
            </textField>
             <textField>
                <reportElement x="82" y="40" width="300" height="15" uuid="6401cb8d-3bf9-4c06-ac34-32e1c42a26a4"/>
                <textElement>
                    <font size="8"/>
                </textElement>
                <textFieldExpression><![CDATA[$F{ADDRESS_2}]]></textFieldExpression>
            </textField>
            <image>
                <reportElement x="24" y="1" width="56" height="42" isPrintWhenDetailOverflows="true" uuid="274ab445-e757-4120-aa23-840cf589c9fc"/>
                <imageExpression><![CDATA["logo/logoKfc.png"]]></imageExpression>
            </image>
            <!-- End Left Header -->

            <!-- Start Right Header -->
            <textField>
                <reportElement x="433" y="1" width="114" height="11" isPrintWhenDetailOverflows="true" uuid="7413e6fb-6c32-414b-91bb-c1c62e1a5ad4"/>
                <textElement>
                    <font size="8"/>
                </textElement>
                <textFieldExpression><![CDATA["Halaman : " + $V{PAGE_NUMBER}]]></textFieldExpression>
            </textField>
            <textField>
                <reportElement x="433" y="14" width="114" height="11" isPrintWhenDetailOverflows="true" uuid="85aa221b-2e01-4563-a4fb-28ef214f19cd"/>
                <textElement>
                    <font size="8"/>
                </textElement>
                <textFieldExpression><![CDATA["User Cetak : " + $P{user}]]></textFieldExpression>
            </textField>
            <textField>
                <reportElement x="433" y="27" width="114" height="11" isPrintWhenDetailOverflows="true" uuid="d8cb15ba-2600-41e2-8890-07ba9b6d1da5"/>
                <textElement>
                    <font size="8"/>
                </textElement>
                <textFieldExpression><![CDATA["Tanggal Cetak : " + new SimpleDateFormat("dd/MM/yyyy").format(new Date())]]></textFieldExpression>
            </textField>
             <textField>
                <reportElement x="433" y="40" width="114" height="11" isPrintWhenDetailOverflows="true" uuid="9a6f7a03-e74c-46b7-9c2c-52582b01d25c"/>
                <textElement>
                    <font size="8"/>
                </textElement>
                <textFieldExpression><![CDATA["Jam Cetak : " + new SimpleDateFormat("hh:mm:ss").format(new Date())]]></textFieldExpression>
            </textField>
            <!-- End Left Header -->

            <!-- Start Title -->
            <textField>
                <reportElement x="64" y="70" width="408" height="18" uuid="e5188639-1aad-4f1c-9fe7-9b2ff8a57c66"/>
                <textElement textAlignment="Center">
                    <font size="12" isBold="true"/>
                </textElement>
                <textFieldExpression><![CDATA["MENU SET"]]></textFieldExpression>
            </textField>
            <!-- End Left Header -->

            <!-- Start Order Type -->
            <textField>
                <reportElement x="1" y="93" width="408" height="18" uuid="e5188639-1aad-4f1c-9fe7-9b2ff8a57c66"/>
                <textElement textAlignment="Left">
                    <font size="8" isBold="true"/>
                </textElement>
                <textFieldExpression><![CDATA["Order Type : " + $P{orderType}]]></textFieldExpression>
            </textField>
            <!-- End Order Type -->

            <!-- Start Order Type -->
            <textField>
                <reportElement x="0" y="93" width="552" height="18" uuid="e5188639-1aad-4f1c-9fe7-9b2ff8a57c66"/>
                <textElement textAlignment="Right">
                    <font size="8" isBold="true"/>
                </textElement>
                <textFieldExpression><![CDATA[$P{status}.equals("A") ? "Active" : "Inactive"]]></textFieldExpression>
            </textField>
            <!-- End Order Type -->

            <!-- Start Line Table Header -->
            <line>
                <reportElement x="1" y="105" width="552" height="1" uuid="acca77af-7fde-4636-a431-7c763e07e2fc"/>
            </line>
            <line>
                <reportElement x="1" y="125" width="552" height="1" uuid="bf86da33-f3e7-4902-adf9-3bf028fc428a"/>
            </line>
            <!-- End Line Table Header -->

            <!-- Start Value Table Header -->
            <staticText>
                <reportElement x="1" y="110" width="177" height="17" uuid="bec0dc85-2f6d-454b-9608-5510717047fd"/>
                <textElement>
                    <font size="8" isBold="true"/>
                </textElement>
                <text><![CDATA[Menu Item]]></text>
            </staticText>

            <staticText>
                <reportElement x="110" y="110" width="177" height="17" uuid="bec0dc85-2f6d-454b-9608-5510717047fd"/>
                <textElement>
                    <font size="8" isBold="true"/>
                </textElement>
                <text><![CDATA[Menu Set]]></text>
            </staticText>

            <staticText>
                <reportElement x="0" y="110" width="552" height="17" uuid="bec0dc85-2f6d-454b-9608-5510717047fd"/>
                <textElement textAlignment="Right">
                    <font size="8" isBold="true"/>
                </textElement>
                <text><![CDATA[Price]]></text>
            </staticText>
            <!-- End Value Table Header -->
        </band>
    </pageHeader>


    <detail>
        <band height="167" splitType="Stretch">
            <staticText>
                <reportElement x="0" y="1" width="88" height="20" uuid="4dbd0a9a-217f-4a30-b535-da418718b125"/>
                <textElement verticalAlignment="Middle">
                    <font size="10" isBold="true"/>
                </textElement>
                <text><![CDATA[$F{MENU_GROUP_DESCRIPTION}]]></text>
            </staticText>
            <staticText>
                <reportElement x="0" y="21" width="88" height="20" uuid="98b98557-4907-43e3-b965-ae4f820593a0"/>
                <textElement verticalAlignment="Middle">
                    <font size="10" isBold="true"/>
                </textElement>
                <text><![CDATA[$F{MENU_ITEM_CODE}]]></text>
            </staticText>
        </band>
    </detail>

    <pageFooter>
        <band height="18" splitType="Stretch"/>
    </pageFooter>
    <summary>
        <band height="18" splitType="Stretch"/>
    </summary>
</jasperReport>
